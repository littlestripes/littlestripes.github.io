<!DOCTYPE html>
<html lang="en">
<head>

    <!-- 
        house2.png and hammer.png created by Paul Davey/mattahan and Shirakawasuna

        https://creativecommons.org/licenses/by-nc-sa/3.0/
    -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>deploying this site - elijah's web site</title>
    <link rel="icon" type="image/x-icon" href="./images/house2.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Ubuntu:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./style.css">

</head>
<body class="ubuntu-mono-regular">
    
    <div class="header">
        <a href="./index.html">
            <h2 class="name ubuntu-bold">Elijah Kamali</h2>
        </a>
        <div id="links">
            <a href="./projects.html"><img class="icon" id="projects-icon" title="My projects" alt="Hammer icon" src="./images/hammer.png"></a>
            <a href="https://github.com/littlestripes" target="_blank"><img class="icon" id="github-icon" title="My Github" alt="Github logo" src="./images/github-mark-white.png"></a>
        </div>
    </div>

    <div class="hero">
        <div class="hero-img"></div>
        <div id="typed-container" style="justify-content: left;">
            <span id="typed-hero"></span>
            <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>
            <script>
                new TypeIt("#typed-hero", {
                    cursorChar: '_',
                    speed: 200
                })
                    .type('')
                    .pause(1250)
                    .type('deploying this site')
                    .go();
            </script>
        </div>
    </div>

    <div class="container">
        <div class="content" style="flex-flow: column nowrap;">
            <p class="ubuntu-mono-regular-italic">July 28, 2025</p>
            <p>Everyone has to start somewhere.</p>
            <p>In such a brutally difficult job market as this wherein I, a bright-eyed and bushy-tailed tech school grad with a couple of successful internship experiences under his belt, am being pitted against battle-worn, freshly out-of-work senior engineers for whatever entry-level crumbs are left (of which there are <a target="_blank" href="https://fred.stlouisfed.org/series/IHLIDXUSTPSOFTDEVE">far fewer</a> than there were before I entered school in 2022), I need every advantage I can muster. What better way to upskill than a good old-fashioned Udemy course? "AWS" remains one of the juiciest résumé keywords there is, so I kicked off this summer by beginning the long march towards a Solutions Architect Associate cert. And who knows—if this whole software engineering thing doesn't pan out, maybe a nice stint in cloud support could be <span title="This is a joke">just the white-collar sinecure I'm looking for.</span></p>
            <p>As my AWS studies slowly marched on during this most interminable of post-graduate job searches, a startling realization slowly began to take hold. Every time I copied and pasted into form fields the contents of the résumé I had, not long ago, been told that the ATS had parsed successfully, I glanced at the URL of my personal website and winced. <span class="ubuntu-mono-regular-italic">Is this really how I want to represent myself? Is this how I want the world to perceive me?</span>, I thought to myself as I glanced over that amateurish link that lacked any explicit mention of the proud owner. <span class="ubuntu-mono-regular-italic">Maybe this thing could be its own item in my list of projects: a more holistic portfolio piece that shows them that I, in fact, <span class="ubuntu-mono-bold">do</span> know my stuff despite having only spent 2 years in school. I'm no code monkey; I can write a website from scratch <span class="ubuntu-mono-bold">and</span> host it, all by myself.</span></p>
            <p>Thus arrived the time that I must finally put on my big-boy pants and move my website off of Github Pages. With all the know-how that my AWS Solutions Architect course had lent me up to this point, I could spin up my own EC2 instances, register my own domains in Route 53, and set up a publicly-accessible S3 bucket to host static content. I was ready to take one giant professional leap and finally get myself a site with a proper URL, something identifiably <span class="ubuntu-mono-regular-italic">me</span>.</p>
            <h2>so let's host that website!</h2>
            <p>First thing's first: the URL is probably the biggest reason for me to migrate in the first place. During a hands-on exercise in the Udemy course's section on Route 53, I registered my own domain name. Thankfully, my name was just unique enough for <span class="ubuntu-mono-italic">elijahkamali.com</span> to be available, so I forked over the 14 big ones requisite to register the domain for a year. Nice.</p>
            <p>Next on the agenda, we need to get the website's files onto AWS. First, I created an EC2 instance and configured it to be as nice and free-tier-eligible as possible, running on Amazon Linux 2023 with a whopping 8 gigabytes of RAM. I also slapped together a little User Data script to update yum's repos, install httpd, and create a sample index.html file for testing:</p>
            <pre><code>
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd
echo "&lt;h1&gt;Woohoo!&lt;/h1&gt;" &gt; /var/www/html/index.html
            </code></pre>
            <p>Then, I associated the instance with a shiny new Elastic IP to give my URL something static to point to. After creating an A record tying the domain to my Elastic IP, I now had a functioning website.</p>
            <div class="screenshot-container">
                <img src="./images/test_page.jpg" alt="Plain white, blank webpage with black text reading\"Woohoo!\"" class="screenshot">
                <span class="ubuntu-mono-bold-italic">The test page in all its glory</span>
            </div>
            <p>Excellent! One problem: this website was going to bleed my wallet like a stuck pig as it was. Running the EC2 instance combined with holding onto that Elastic IP would not be cost-effective at all. I had assumed I would need to host the site on a VPS in order to build out a CI/CD pipeline later, but I then discovered S3 Sync, a Github Action that can sync a Github repo to an S3 bucket. Now that we know that we can do better, let's optimize.</p>
            <h2>round 2</h2>
            <p>I'd need a new S3 bucket for this endeavor; to add an Alias record associating the domain with the S3 static site, I'd need a bucket with the same name as the domain. After creating one, enabling ACLs (for s3-sync to upload files on my behalf), and uploading all the website's files to the bucket, the site was live at the correct address!</p>
            <p>To make updating the website much easier than dragging and dropping files directly into the S3 bucket whenever a change is made, I set up a Github Actions workflow using s3-sync to sync the website's repo (originally made for Github Pages, now repurposed) with the S3 bucket hosting the site upon every push to master. It's not all that different from the example seen on the <a target="_blank" href="https://github.com/marketplace/actions/s3-sync">s3-sync page</a>:</p>
            <pre><code>name: Sync Website

on:
  push:
    branches:
    - master

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - uses: jakejarvis/s3-sync-action@master
      with:
        args: --acl public-read --follow-symlinks --delete
      env:
        AWS_S3_BUCKET: ${{ secrets.AWS_S3_BUCKET }}
        AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
        AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        AWS_REGION: 'us-east-2'</code></pre>
            <p>After adding this workflow and the accompanying environment variables to the repo, enabling ACLs, and creating some security credentials to use in IAM, I had a working CI/CD pipeline to streamline updating the website. <span class="ubuntu-mono-regular-italic">Voilà!</span> Mission accomplished!</p>
            <p>If you'd like to see for yourself, have a look at the repo <a target="_blank" href="https://github.com/littlestripes/littlestripes.github.io">here.</a></p>
        </div>

        <div id="back-container">
            <a href="./projects.html">back?</a>
        </div>

    </div>

    <div class="footer">
        <p>
            Copyright 2025 Elijah Kamali
        </p>
    </div>

</body>
</html>
